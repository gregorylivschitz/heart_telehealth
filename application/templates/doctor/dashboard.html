{% extends 'base.html' %}

{% block content %}
<div class="row"> </div>
<div class="row">
    <div class="col s12 m10 offset-m1 l8 offset-l2">
        <ul class="collapsible" data-collapsible="expandable">
            {% for each_patient in patients %}
                <li>
                    <div class="collapsible-header hoverable">
                        <div class="row" style="margin: 0">
                        <div class="col s2"><i class="material-icons">account_circle</i>ID: <b>{{each_patient['id']}}</b></div>
                        <div class="col s5"><span>Ping Count: <b>{{each_patient['pings']}}</b></span></div>
                        <div class="col s5"><span style="float: right">Last Ping Date: <b>{{each_patient['last_ping']}}</b></span></div>
                        </div>
                    </div>
                    <div class="collapsible-body">
                        <div class="row">
                            <div class="col s4">Name  : {{each_patient['name']}}</div>
                            <div class="col s4">Age   : {{each_patient['age']}}</div>
                            <div class="col s4">Weight: {{each_patient['weight']}}</div>
                        </div>
                        <div class="row">
                            <div class="col s4">E-Mail: {{each_patient['email']}}</div>
                            <div class="col s4">Phone : {{each_patient['tel']}}</div>
                        </div>
                        <div class="row">
                            <div class="col s4">High Tone: {{each_patient['high']}}</div>
                            <div class="col s4">Low Tone : {{each_patient['low']}}</div>
                        </div>
                    </div>
                </li>

            <script>

var ctx = document.getElementById("myChart{{each_patient['id']}}").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: [{% for item in each_patient['labels'] %}
                  "{{item}}",
              {% endfor %}],
        datasets: [{
            label: '# of cycle',
            data: [{% for item in each_patient['values'] %}
                      {{item}},
                    {% endfor %}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        maintainAspectRatio: false,
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>


            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}